/* You can add custom styles here. */

// @import "plugins/numbered";

// グローバルにデフォルトの矢印を完全に削除
.book-menu input.toggle + label::after,
.book-menu input.toggle:checked + label::after {
  content: none !important;
  display: none !important;
  visibility: hidden !important;
  width: 0 !important;
  height: 0 !important;
}

// BookCollapseSectionのスタイル改善
.book-menu {
  // チェックボックスを非表示
  input.toggle {
    display: none;
  }

  // セクションラッパー（toggleアイコンとリンクを横並びに）
  .book-section-wrapper {
    display: flex;
    align-items: center;
    gap: 0.3rem;
  }

  // toggleアイコンのスタイル
  .book-section-toggle-icon {
    cursor: pointer;
    flex-shrink: 0;
    width: 1rem;
    height: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;

    &::before {
      content: '▶';
      font-size: 0.7rem;
      transition: transform 0.2s ease;
      color: var(--gray-500);
    }

    &:hover::before {
      color: var(--color-link);
    }
  }

  // checkboxがチェックされた時のアイコン回転
  input.toggle:checked + .book-section-wrapper .book-section-toggle-icon::before {
    transform: rotate(90deg);
  }

  // リンクのスタイル
  .book-collapse-toggle {
    flex: 1;
    color: inherit;
    text-decoration: none;

    &:hover {
      color: var(--color-link);
    }
  }

  // サブメニューの表示制御
  input.toggle + .book-section-wrapper + ul {
    display: none;
    margin-left: 0.5rem;
  }

  input.toggle:checked + .book-section-wrapper + ul {
    display: block;
  }

  // リンクのスタイルを維持
  a {
    color: inherit;
    text-decoration: none;
  }
}

// RTL対応 - デフォルトの矢印を無効化
body[dir="rtl"] .book-menu {
  input.toggle + label::after,
  input.toggle:checked + label::after {
    content: none !important;
    display: none !important;
  }
}
